<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Modal Form Table</title>
<link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
</head>
<body class="bg-light">
<div class="container mt-4">
  <button class="btn btn-primary mb-3" data-bs-toggle="modal" data-bs-target="#modal">Add User</button>

  <div class="modal fade" id="modal"><div class="modal-dialog"><div class="modal-content">
    <div class="modal-header"><h5 class="modal-title">Add User</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal"></button></div>
    <div class="modal-body">
      <form id="form" novalidate>
        <input class="form-control mb-2" placeholder="Name" required>
        <input class="form-control mb-2" type="email" placeholder="Email" required>
        <input class="form-control mb-2" type="number" placeholder="Age" required>
        <select class="form-select mb-2" required>
          <option selected disabled>Gender</option><option>Male</option><option>Female</option>
        </select>
        <button class="btn btn-success w-100" type="submit">Submit</button>
      </form>
    </div>
  </div></div></div>

  <table class="table table-bordered table-striped">
    <thead class="table-dark"><tr><th>#</th><th>Name</th><th>Email</th><th>Age</th><th>Gender</th></tr></thead>
    <tbody id="table">
      <tr><td>1</td><td>Alice</td><td>alice@example.com</td><td>25</td><td>Female</td></tr>
      <tr><td>2</td><td>Bob</td><td>bob@example.com</td><td>30</td><td>Male</td></tr>
    </tbody>
  </table>
</div>

<script src="bootstrap/js/bootstrap.bundle.min.js"></script>
<script>
const form=document.getElementById('form'),table=document.getElementById('table');
form.addEventListener('submit',e=>{
  e.preventDefault();
  if(!form.checkValidity()){form.classList.add('was-validated');return;}
  const [name,email,age,gender]=[...form.elements].slice(0,4).map(f=>f.value);
  table.insertAdjacentHTML('beforeend',`<tr><td>${table.rows.length+1}</td><td>${name}</td><td>${email}</td><td>${age}</td><td>${gender}</td></tr>`);
  form.reset();form.classList.remove('was-validated');
  bootstrap.Modal.getInstance(document.getElementById('modal')).hide();
});
</script>
</body>
</html>
